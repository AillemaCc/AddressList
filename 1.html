<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sass.js/0.11.1/sass.sync.min.js"></script>
    <!-- <style lang="text/scss">
      .container {
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .w130h60 {
        width: 130px;
        height: 60px;
      }
      .box-container {
          position: relative;
          display: flex;
          justify-content: center;
          align-items: center;
          width: 100%;
          height: 100%;
          cursor: pointer;
          transition: 0.4s;
          overflow: hidden;
      }
      .box-container:hover {
          color: #fff;
      }
      .box-background {
          z-index: -1;
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: linear-gradient(#396FCF,#184DA9);
          transform:translateY(100%);
          opacity: 0;
          transition: .4s;
        }
        .box-container:hover .box-background{
            opacity: 1;
            transform:translateY(0)
        }
        .is-active {
          color: #fff;
          background: linear-gradient(#396FCF,#184DA9);
        }
    </style> -->
    <title>Markdown 编辑器</title>

    <!-- Markdown 解析 -->
    <script src="https://cdn.bootcdn.net/ajax/libs/marked/4.0.2/marked.min.js"></script>
    <!-- 预览样式 -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.2.0/github-markdown.min.css"
    />
    <style>
      :root {
        --primary-color: #4caf50;
        --border-color: #ddd;
      }

      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        margin: 0;
        padding: 0;
        line-height: 1.6;
        background-color: #f5f5f5;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
        height: 100vh;
        box-sizing: border-box;
        display: flex;
        flex-direction: column;
      }

      .editor-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px 0;
        margin-bottom: 15px;
      }

      #publishBtn {
        padding: 8px 16px;
        background-color: var(--primary-color);
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        transition: background-color 0.3s;
      }

      #publishBtn:hover {
        background-color: #3e8e41;
      }

      .editor-content {
        display: flex;
        gap: 20px;
        flex: 1;
      }

      .editor-pane,
      .preview-pane {
        flex: 1;
        height: 100%;
        overflow-y: auto;
        background-color: white;
      }

      #markdownInput {
        width: 100%;
        height: 100%;
        padding: 20px;
        box-sizing: border-box;
        border: 1px solid var(--border-color);
        border-radius: 5px;
        font-family: 'Consolas', monospace;
        font-size: 16px;
        line-height: 1.5;
        resize: none;
      }

      .preview-pane {
        border: 1px solid var(--border-color);
        border-radius: 5px;
        padding: 20px;
        overflow-wrap: break-word;
      }

      .markdown-body {
        box-sizing: border-box;
        min-width: 200px;
        max-width: 100%;
        margin: 0;
      }

      @media (max-width: 768px) {
        .editor-content {
          flex-direction: column;
          height: auto;
        }

        .editor-pane,
        .preview-pane {
          height: 400px;
        }
      }
    </style>
  </head>
  <body>
    <!-- <div class="container">
      <div class="w130h60 is-active">
        <div class="box-container">
          <div class="box-background"></div>
          组织机构
        </div>
      </div>
      <div class="w130h60">
        <div class="box-container">
          <div class="box-background"></div>
          组织机构
        </div>
      </div>
      <div class="w130h60">
        <div class="box-container">
          <div class="box-background"></div>
          组织机构
        </div>
      </div>
    </div> -->
    <div class="container">
      <div class="editor-header">
        <h1>Markdown 编辑器</h1>
        <button id="publishBtn">发布</button>
      </div>

      <div class="editor-content">
        <div class="editor-pane">
          <textarea id="markdownInput" placeholder="在此输入Markdown内容...">
# Markdown 示例

## 基本语法

### 标题
\`# 一级标题\`  
\`## 二级标题\`

### 文本样式
- **粗体**: \`**文本**\`
- *斜体*: \`*文本*\`

### 列表
- 无序列表: \`- 项目1\`
1. 有序列表: \`1. 项目1\`

### 代码
\`\`\`javascript
// 代码块
console.log("Hello");
\`\`\`

[示例链接](https://example.com)</textarea
          >
        </div>
        <div id="preview" class="preview-pane markdown-body"></div>
      </div>
    </div>

    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const markdownInput = document.getElementById('markdownInput')
        const preview = document.getElementById('preview')
        const publishBtn = document.getElementById('publishBtn')

        // 初始渲染
        preview.innerHTML = marked.parse(markdownInput.value)

        // 实时预览
        markdownInput.addEventListener('input', function () {
          preview.innerHTML = marked.parse(this.value)
        })

        // 发布功能
        publishBtn.addEventListener('click', function () {
          const content = markdownInput.value
          console.log('发布内容:', content)
          alert('内容已发布到控制台！\n请查看开发者工具中的输出。')
        })

        // 支持Tab键缩进
        markdownInput.addEventListener('keydown', function (e) {
          if (e.key === 'Tab') {
            e.preventDefault()
            const start = this.selectionStart
            const end = this.selectionEnd

            this.value =
              this.value.substring(0, start) +
              '    ' +
              this.value.substring(end)

            this.selectionStart = this.selectionEnd = start + 4
          }
        })
      })
    </script>
  </body>
</html>
